import{j as e,S as u}from"./app-hpof5UXI.js";import{B as x}from"./button-GmsC7mJ2.js";import{u as y,F as v,a as t,b as i,c as n,d as m,e as d,f as c,s as f,z as a}from"./index-C6muke0y.js";import{S as g,a as S,b,c as F,d as _}from"./select-nCYOwixR.js";import{t as p}from"./index-D00Qqd_r.js";import{S as h}from"./input-6Yfd_X2a.js";import"./utils-YvIYhwMp.js";import"./index-BDFscTOR.js";import"./index-Br8jnGSO.js";import"./index-DO7uKY43.js";import"./index-DUJvO9Ti.js";import"./createLucideIcon-DGoynV5J.js";import"./description-CgPDT6q2.js";import"./use-sync-refs-B7FUBJr3.js";const w=a.object({employee_id:a.string(),remaining_leave:a.string(),leave_type:a.string().nullable()});function M({employeeLeave:l}){const o=y({resolver:f(w),defaultValues:{employee_id:l.user.id.toString(),remaining_leave:l.remaining_leaves.toString(),leave_type:l.leave_type.name}});function j(r){u.patch(route("employee-leave.update",l.id),r,{preserveScroll:!0,preserveState:!0,onError:s=>{p.error(s.msg)}})}return e.jsxs("div",{className:"mx-auto max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Update Employee Data"}),e.jsx(v,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(j),className:"space-y-4",children:[e.jsx(t,{control:o.control,name:"employee_id",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{htmlFor:"employee_id",children:"Employee"}),e.jsx(m,{children:e.jsxs(g,{value:r.value,onValueChange:r.onChange,children:[e.jsx(S,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(b,{placeholder:"Select User"})}),e.jsx(F,{children:[l.user].map(s=>e.jsx(_,{value:s.id.toString(),children:s.name},s.id))})]})}),e.jsx(d,{children:"Select employee"}),e.jsx(c,{})]})}),e.jsx(t,{name:"leave_type",disabled:!0,render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{htmlFor:"leave_type",children:"Leave Type"}),e.jsx(m,{children:e.jsx(h,{...r,placeholder:"Full Name",className:"w-full rounded-md border px-4 py-2",autoFocus:!0})}),e.jsx(d,{children:"Leave type"}),e.jsx(c,{})]})}),e.jsx(t,{control:o.control,name:"remaining_leave",render:({field:r})=>e.jsxs(i,{children:[e.jsx(n,{htmlFor:"remaining_leave",children:"Remaining Leave"}),e.jsx(m,{children:e.jsx(h,{...r,placeholder:"Remaining Leave",className:"w-full rounded-md border px-4 py-2"})}),e.jsx(d,{children:"User Remaining Leave"}),e.jsx(c,{})]})}),e.jsx(x,{variant:"default",type:"submit",className:"w-full",children:"Update Employee Leave Detail"})]})}),e.jsx(x,{variant:"destructive",onClick:()=>{confirm("Are you sure you want to delete this employee leave?")&&u.delete(route("employee-leave.destroy",{id:l.id}),{onSuccess:()=>{p.success("Employee deleted successfully")},onError:r=>{p.error("Failed to delete employee"),console.error(r)}})},className:"my-2 w-full",children:"Delete"})]})}export{M as default};

import{j as e,S as y}from"./app-hpof5UXI.js";import{u as F,F as _,a as t,b as a,c as d,d as i,e as p,f as m,s as A,z as n}from"./index-C6muke0y.js";import{S as c,a as x,b as h,c as u,d as j}from"./select-nCYOwixR.js";import{t as N}from"./index-D00Qqd_r.js";import{S as w}from"./input-6Yfd_X2a.js";import{H as C}from"./button-BzAGyC4H.js";import"./utils-YvIYhwMp.js";import"./index-BDFscTOR.js";import"./index-Br8jnGSO.js";import"./index-DO7uKY43.js";import"./index-DUJvO9Ti.js";import"./createLucideIcon-DGoynV5J.js";import"./description-CgPDT6q2.js";import"./use-sync-refs-B7FUBJr3.js";import"./owner-BaJPoHzg.js";import"./use-disposables-C01PsOMQ.js";const D=n.object({department:n.string().nonempty(),requester_position:n.string().nonempty(),approval_level:n.string().nonempty(),approval_position:n.string().nonempty(),next_approval:n.string()});function K({depts:b,positions:v,approvals:S}){const l=F({resolver:A(D),defaultValues:{department:"",requester_position:"",approval_level:"",approval_position:"",next_approval:""}});function f(o){console.log(o),y.post(route("approval.store"),o,{preserveScroll:!0,preserveState:!0,onError:r=>{console.log("error "+r.msg),N.error("Failed to add new approval")}})}return e.jsxs("div",{className:"mx-auto max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Add New Approval"}),e.jsx(_,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(f),className:"space-y-4",children:[e.jsx(t,{control:l.control,name:"department",render:({field:o})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"department",children:"Department"}),e.jsx(i,{children:e.jsxs(c,{value:o.value,onValueChange:o.onChange,children:[e.jsx(x,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(h,{placeholder:"Select Department"})}),e.jsx(u,{children:b.map(r=>e.jsx(j,{value:r.id.toString(),children:r.name},r.id))})]})}),e.jsx(p,{children:"Department"}),e.jsx(m,{})]})}),e.jsx(t,{control:l.control,name:"requester_position",render:({field:o})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"requester_position",children:"Requester Position"}),e.jsx(i,{children:e.jsxs(c,{value:o.value,onValueChange:o.onChange,children:[e.jsx(x,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(h,{placeholder:"Select Requester Position"})}),e.jsx(u,{children:v.map(r=>e.jsx(j,{value:r.id.toString(),children:r.name},r.id))})]})}),e.jsx(p,{children:"User/Requester Position"}),e.jsx(m,{})]})}),e.jsx(t,{control:l.control,name:"approval_level",render:({field:o})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"approval_level",children:"Approval level"}),e.jsx(i,{children:e.jsx(w,{...o,placeholder:"Approval Level",className:"w-full rounded-md border px-4 py-2",onInput:r=>{const s=r.target;s.value=s.value.replace(/\D/g,"")}})}),e.jsx(p,{children:"Approval Level, e.g 1, 2, 3, 4"}),e.jsx(m,{})]})}),e.jsx(t,{control:l.control,name:"approval_position",render:({field:o})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"approval_position",children:"Approval Position"}),e.jsx(i,{children:e.jsxs(c,{value:o.value,onValueChange:o.onChange,children:[e.jsx(x,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(h,{placeholder:"Select Approval Position"})}),e.jsx(u,{children:v.map(r=>e.jsx(j,{value:r.id.toString(),children:r.name},r.id))})]})}),e.jsx(p,{children:"Current Approval Position"}),e.jsx(m,{})]})}),e.jsx(t,{control:l.control,name:"next_approval",render:({field:o})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"next_approval",children:"Next Approval ID"}),e.jsx(i,{children:e.jsxs(c,{value:o.value,onValueChange:o.onChange,children:[e.jsx(x,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(h,{placeholder:"Select Next Approval ID"})}),e.jsx(u,{children:S.map(r=>{var s,g;return e.jsxs(j,{value:r.id.toString(),children:[r.id," -"," ",(s=r.position)==null?void 0:s.name," at"," ",(g=r.department)==null?void 0:g.name]},r.id)})})]})}),e.jsx(p,{children:"Next Approval ID"}),e.jsx(m,{})]})}),e.jsx(C,{type:"submit",className:"w-full rounded-md bg-blue-500 py-2 text-white hover:bg-blue-600",children:"Add Employee"})]})})]})}export{K as default};

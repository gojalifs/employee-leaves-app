import{j as e,S as w}from"./app-hpof5UXI.js";import{C}from"./Checkbox-BiCOuLXx.js";import{u as E,F as A,a as n,b as a,c as t,d as m,e as d,f as i,s as D,z as l}from"./index-C6muke0y.js";import{S as u,a as g,b as f,c as b,d as y}from"./select-nCYOwixR.js";import{t as U}from"./index-D00Qqd_r.js";import{S as h}from"./input-6Yfd_X2a.js";import{H as V}from"./button-BzAGyC4H.js";import"./utils-YvIYhwMp.js";import"./index-BDFscTOR.js";import"./index-Br8jnGSO.js";import"./index-DO7uKY43.js";import"./index-DUJvO9Ti.js";import"./createLucideIcon-DGoynV5J.js";import"./description-CgPDT6q2.js";import"./use-sync-refs-B7FUBJr3.js";import"./owner-BaJPoHzg.js";import"./use-disposables-C01PsOMQ.js";const _=l.object({full_name:l.string().nonempty(),email:l.string().nonempty().email(),department:l.string().nonempty(),position:l.string().nonempty(),address:l.string().nonempty(),role:l.array(l.string()).refine(c=>c.some(x=>x),{message:"You have to select at least one item."})});function W({depts:c,positions:x,roles:F}){const o=E({resolver:D(_),defaultValues:{full_name:"",email:"",department:"",position:"",address:"",role:[]}});function S(r){console.log(r),w.post(route("employee.store"),r,{preserveScroll:!0,preserveState:!0,onError:s=>{console.log("error "+s.msg),U.error("Failed to add new employee")}})}return e.jsxs("div",{className:"mx-auto max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Add New Employee"}),e.jsx(A,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(S),className:"space-y-4",children:[e.jsx(n,{control:o.control,name:"full_name",render:({field:r})=>e.jsxs(a,{children:[e.jsx(t,{htmlFor:"full_name",children:"Name"}),e.jsx(m,{children:e.jsx(h,{...r,placeholder:"Full Name",className:"w-full rounded-md border px-4 py-2",autoFocus:!0})}),e.jsx(d,{children:"Full Name"}),e.jsx(i,{})]})}),e.jsx(n,{control:o.control,name:"email",render:({field:r})=>e.jsxs(a,{children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(m,{children:e.jsx(h,{...r,placeholder:"Email",className:"w-full rounded-md border px-4 py-2"})}),e.jsx(d,{children:"User Email"}),e.jsx(i,{})]})}),e.jsx(n,{control:o.control,name:"department",render:({field:r})=>e.jsxs(a,{children:[e.jsx(t,{htmlFor:"department",children:"Department"}),e.jsx(m,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(g,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(f,{placeholder:"Select Department"})}),e.jsx(b,{children:c.map(s=>e.jsx(y,{value:s.id.toString(),children:s.name},s.id))})]})}),e.jsx(d,{children:"User Department"}),e.jsx(i,{})]})}),e.jsx(n,{control:o.control,name:"position",render:({field:r})=>e.jsxs(a,{children:[e.jsx(t,{htmlFor:"position",children:"Position"}),e.jsx(m,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(g,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(f,{placeholder:"Select Position"})}),e.jsx(b,{children:x.map(s=>e.jsx(y,{value:s.id.toString(),children:s.name},s.id))})]})}),e.jsx(d,{children:"User Position"}),e.jsx(i,{})]})}),e.jsx(n,{control:o.control,name:"address",render:({field:r})=>e.jsxs(a,{children:[e.jsx(t,{htmlFor:"address",children:"Address"}),e.jsx(m,{children:e.jsx(h,{...r,placeholder:"Address",className:"w-full rounded-md border px-4 py-2"})}),e.jsx(d,{children:"User Address"}),e.jsx(i,{})]})}),e.jsx(n,{control:o.control,name:"role",render:()=>e.jsxs(a,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{className:"text-base",children:"Roles"}),e.jsx(d,{children:"Select role(s) for this user"})]}),F.map(r=>e.jsx(n,{control:o.control,name:"role",render:({field:s})=>{var p;return e.jsxs(a,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(m,{children:e.jsx(C,{checked:(p=s.value)==null?void 0:p.includes(r.name),onChange:N=>{var j;return N?s.onChange([...s.value,r.name]):s.onChange((j=s.value)==null?void 0:j.filter(v=>v!==r.name))}})}),e.jsx(t,{className:"text-sm font-normal",children:r.name})]},r.id)}},r.id)),e.jsx(i,{})]})}),e.jsx(V,{type:"submit",className:"w-full rounded-md bg-blue-500 py-2 text-white hover:bg-blue-600",children:"Add Employee"})]})})]})}export{W as default};

import{j as e,S as g}from"./app-hpof5UXI.js";import{u as f,F as S,a as n,b as m,c,d as x,e as h,f as u,s as F,z as l}from"./index-C6muke0y.js";import{B as C}from"./button-GmsC7mJ2.js";import{C as y}from"./checkbox-B7ITrf-M.js";import{S as N,a as w,b as _,c as k,d as E}from"./select-nCYOwixR.js";import{t as V}from"./index-D00Qqd_r.js";import"./utils-YvIYhwMp.js";import"./index-BDFscTOR.js";import"./index-Br8jnGSO.js";import"./index-DO7uKY43.js";import"./index-C-PcQbr2.js";import"./index-DUJvO9Ti.js";import"./createLucideIcon-DGoynV5J.js";const L=l.object({employee_id:l.string(),leave_type:l.array(l.number()).refine(a=>a.some(t=>t),{message:"You have to select at least one item."})});function J({users:a,leave_types:t}){const s=f({resolver:F(L),defaultValues:{employee_id:"",leave_type:[]}});function p(){console.log(s.getValues())}function j(r){console.log(r),g.post(route("employee-leave.store"),r,{preserveScroll:!0,preserveState:!0,onError:o=>{console.log("error "+o.msg),V.error("Failed to add new employee leave")}})}return e.jsxs("div",{className:"mx-auto max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Add New Employee Leave"}),e.jsx(S,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(j),className:"space-y-4",children:[e.jsx(n,{control:s.control,name:"employee_id",render:({field:r})=>e.jsxs(m,{children:[e.jsx(c,{htmlFor:"employee_id",children:"Employee"}),e.jsx(x,{children:e.jsxs(N,{value:r.value,onValueChange:r.onChange,children:[e.jsx(w,{className:"w-full rounded-md border border-gray-500 px-4 py-2",children:e.jsx(_,{placeholder:"Select User"})}),e.jsx(k,{children:a.map(o=>e.jsx(E,{value:o.id.toString(),children:o.name},o.id))})]})}),e.jsx(h,{children:"Select employee"}),e.jsx(u,{})]})}),e.jsx(n,{control:s.control,name:"leave_type",render:()=>e.jsxs(m,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{className:"text-base",children:"Leave Types"}),e.jsx(h,{children:"Select leave type(s) for this employee"})]}),t.map(r=>e.jsx(n,{control:s.control,name:"leave_type",render:({field:o})=>{var i;return e.jsxs(m,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(x,{children:e.jsx(y,{checked:(i=o.value)==null?void 0:i.includes((r==null?void 0:r.id)??-1),onCheckedChange:v=>{var d;return v?o.onChange([...o.value,r==null?void 0:r.id]):o.onChange((d=o.value)==null?void 0:d.filter(b=>b!==r.id))}})}),e.jsx(c,{className:"text-sm font-normal",children:r.name})]},r.id)}},r.id)),e.jsx(u,{})]})}),e.jsx(C,{type:"submit",onClick:p,className:"w-full rounded-md bg-blue-500 py-2 text-white hover:bg-blue-600",children:"Save"})]})})]})}export{J as default};

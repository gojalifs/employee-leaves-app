import{r as a,j as s,S as i}from"./app-hpof5UXI.js";import{B as c}from"./button-GmsC7mJ2.js";import{R as h,P as v,C as o,a as N,X as y,T as r,O as p,D as m}from"./index-BMx7Zc9H.js";import{c as n}from"./utils-YvIYhwMp.js";import{t as d}from"./index-D00Qqd_r.js";import"./createLucideIcon-DGoynV5J.js";import"./index-Br8jnGSO.js";import"./index-DUJvO9Ti.js";const b=h,R=v,u=a.forwardRef(({className:l,...t},e)=>s.jsx(p,{ref:e,className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...t}));u.displayName=p.displayName;const f=a.forwardRef(({className:l,children:t,...e},j)=>s.jsxs(R,{children:[s.jsx(u,{}),s.jsxs(o,{ref:j,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l),...e,children:[t,s.jsxs(N,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(y,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));f.displayName=o.displayName;const x=({className:l,...t})=>s.jsx("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",l),...t});x.displayName="DialogHeader";const g=a.forwardRef(({className:l,...t},e)=>s.jsx(r,{ref:e,className:n("text-lg font-semibold leading-none tracking-tight",l),...t}));g.displayName=r.displayName;const q=a.forwardRef(({className:l,...t},e)=>s.jsx(m,{ref:e,className:n("text-sm text-muted-foreground",l),...t}));q.displayName=m.displayName;function L({open:l,onOpenChange:t,rowData:e}){return s.jsx(b,{open:l,onOpenChange:t,children:s.jsxs(f,{children:[s.jsx(x,{children:s.jsx(g,{children:"Approve Leave Request?"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"underline",children:e==null?void 0:e.user.name})," ","has requested a leave of type ",e==null?void 0:e.leave_type.name," ","starting from ",s.jsxs("strong",{children:[" ",e==null?void 0:e.start_date," "]})," ","until ",s.jsxs("strong",{children:[" ",e==null?void 0:e.end_date]})," . Please review the details and confirm your action."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("strong",{className:"min-w-20",children:"Reason:"})," ",e==null?void 0:e.reason]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("strong",{className:"min-w-20",children:"Note:"})," ",e==null?void 0:e.note]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("strong",{className:"min-w-20",children:"Status:"})," ",e==null?void 0:e.status]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("strong",{className:"min-w-20",children:"Start Date:"})," ",e==null?void 0:e.start_date]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("strong",{className:"min-w-20",children:"End Date:"})," ",e==null?void 0:e.end_date]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(c,{variant:"outline",onClick:()=>{i.patch(route("request_approval.update",e==null?void 0:e.id),{status:"approved"},{onSuccess:()=>{d.success("Leave request approved successfully"),i.reload()},onError:()=>{d.error("Failed to approve leave request")}}),console.log("Approved:",e),t(!1)},children:"Approve"}),s.jsx(c,{variant:"destructive",onClick:()=>{console.log("Declined:",e),i.patch(route("request_approval.update",e==null?void 0:e.id),{status:"rejected"},{onSuccess:()=>{d.success("Leave request rejected successfully"),i.reload()},onError:()=>{d.error("Failed to reject leave request")}}),t(!1)},children:"Decline"})]})]})]})})}export{L as default};

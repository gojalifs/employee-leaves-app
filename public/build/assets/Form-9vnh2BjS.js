import{j as e,S as i}from"./app-hpof5UXI.js";import{B as d}from"./button-GmsC7mJ2.js";import{u as v,F,a as c,b as u,c as p,d as x,e as h,f as y,s as b,z as s}from"./index-C6muke0y.js";import{t as l}from"./index-D00Qqd_r.js";import{S as j}from"./input-6Yfd_X2a.js";import"./utils-YvIYhwMp.js";import"./index-BDFscTOR.js";import"./index-Br8jnGSO.js";import"./description-CgPDT6q2.js";import"./use-sync-refs-B7FUBJr3.js";const g=s.object({leave_name:s.string().nonempty(),max_quantity:s.string().nonempty()});function C({leave:t}){var n;const a=v({resolver:b(g),defaultValues:{leave_name:t.name??"",max_quantity:(n=t.max_quantity)==null?void 0:n.toString()}});function f(r){i.patch(route("leave.update",t.id),r,{preserveScroll:!0,preserveState:!0,onError:o=>{l.error(o.msg)}})}return e.jsxs("div",{className:"mx-auto max-w-2xl rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Update Leave Type Data"}),e.jsx(F,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-4",children:[e.jsx(c,{control:a.control,name:"leave_name",render:({field:r})=>e.jsxs(u,{children:[e.jsx(p,{htmlFor:"leave_name",children:"Name"}),e.jsx(x,{children:e.jsx(j,{...r,placeholder:"Leave Type Name",className:"w-full rounded-md border px-4 py-2",autoFocus:!0})}),e.jsx(h,{children:"Leave Type Name"}),e.jsx(y,{})]})}),e.jsx(c,{control:a.control,name:"max_quantity",render:({field:r})=>e.jsxs(u,{children:[e.jsx(p,{htmlFor:"max_quantity",children:"Quota in a year"}),e.jsx(x,{children:e.jsx(j,{...r,placeholder:"e.g 12",className:"w-full rounded-md border px-4 py-2",onInput:o=>{const m=o.target;m.value=m.value.replace(/\D/g,"")}})}),e.jsx(h,{children:"Quota in a year"}),e.jsx(y,{})]})}),e.jsx(d,{variant:"default",type:"submit",className:"w-full",children:"Update Leave Type"})]})}),e.jsx(d,{variant:"destructive",onClick:()=>{confirm("Are you sure you want to delete this Leave Type?")&&i.delete(route("leave.destroy",{id:t.id}),{onSuccess:()=>{l.success("Leave type deleted successfully")},onError:r=>{l.error("Failed to delete leave type"),console.error(r)}})},className:"my-2 w-full",children:"Delete"})]})}export{C as default};
